{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/akshun chauhan/Downloads/crud-application-using-mern-stack-react-js-nodejs-express-js-and-mongodb/crud-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/akshun chauhan/Downloads/crud-application-using-mern-stack-react-js-nodejs-express-js-and-mongodb/crud-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/akshun chauhan/Downloads/crud-application-using-mern-stack-react-js-nodejs-express-js-and-mongodb/crud-app/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/akshun chauhan/Downloads/crud-application-using-mern-stack-react-js-nodejs-express-js-and-mongodb/crud-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/akshun chauhan/Downloads/crud-application-using-mern-stack-react-js-nodejs-express-js-and-mongodb/crud-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import'./add.css';import toast from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Add=function Add(){// Initial state for user data\nvar initialUserState={fname:'',lname:'',email:'',phone:'',// Added phone field\ncatagory:''};// State for user data and navigation\nvar _useState=useState(initialUserState),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var navigate=useNavigate();// Function to handle input changes\nvar inputHandler=function inputHandler(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;// Validate phone field to accept only numbers and exactly 10 digits\nif(name==='phone'&&!/^\\d{10}$/.test(value)){// Show validation error message if input is invalid\ntoast.error('Please enter a 10-digit phone number',{position:'top-right'});}else{setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));}};// Function to submit form\nvar submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// Basic validation checks\nif(!(!user.fname||!user.lname||!user.email||!user.phone||!user.catagory)){_context.next=4;break;}// If any field is empty, show an error toast\ntoast.error('All fields are required',{position:'top-right'});return _context.abrupt(\"return\");case 4:_context.prev=4;_context.next=7;return axios.post('http://localhost:8000/api/create',user);case 7:response=_context.sent;// Show success toast\ntoast.success(response.data.msg,{position:'top-right'});// Redirect to home page\nnavigate('/');_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](4);console.log(_context.t0);// Show error toast if request fails\ntoast.error('Error adding user',{position:'top-right'});case 16:case\"end\":return _context.stop();}},_callee,null,[[4,12]]);}));return function submitForm(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"addUser\",children:[/*#__PURE__*/_jsx(Link,{to:'/',children:\"Back\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Add new user\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"addUserForm\",onSubmit:submitForm,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fname\",children:\"First name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:inputHandler,id:\"fname\",name:\"fname\",autoComplete:\"off\",placeholder:\"First name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lname\",children:\"Last name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:inputHandler,id:\"lname\",name:\"lname\",autoComplete:\"off\",placeholder:\"Last name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:inputHandler,id:\"phone\",name:\"phone\",autoComplete:\"off\",placeholder:\"phone\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:inputHandler,id:\"email\",name:\"email\",autoComplete:\"off\",placeholder:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGroup\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"catagory\",children:\"Catagory\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:inputHandler,id:\"catagory\",name:\"catagory\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Family\",children:\"Family\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Friend\",children:\"Friend\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Work\",children:\"Work\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"inputGroup\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"ADD USER\"})})]})]});};export default Add;","map":{"version":3,"names":["React","useState","Link","useNavigate","axios","toast","jsx","_jsx","jsxs","_jsxs","Add","initialUserState","fname","lname","email","phone","catagory","_useState","_useState2","_slicedToArray","user","setUser","navigate","inputHandler","e","_e$target","target","name","value","test","error","position","_objectSpread","_defineProperty","submitForm","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","preventDefault","abrupt","post","sent","success","data","msg","t0","console","log","stop","_x","apply","arguments","className","children","to","onSubmit","htmlFor","type","onChange","id","autoComplete","placeholder"],"sources":["C:/Users/akshun chauhan/Downloads/crud-application-using-mern-stack-react-js-nodejs-express-js-and-mongodb/crud-app/client/src/components/adduser/Add.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './add.css';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Add = () => {\r\n  // Initial state for user data\r\n  const initialUserState = {\r\n    fname: '',\r\n    lname: '',\r\n    email: '',\r\n    phone: '', // Added phone field\r\n    catagory: ''\r\n  };\r\n\r\n  // State for user data and navigation\r\n  const [user, setUser] = useState(initialUserState);\r\n  const navigate = useNavigate();\r\n\r\n  // Function to handle input changes\r\nconst inputHandler = (e) => {\r\n  const { name, value } = e.target;\r\n  // Validate phone field to accept only numbers and exactly 10 digits\r\n  if (name === 'phone' && !/^\\d{10}$/.test(value)) {\r\n      // Show validation error message if input is invalid\r\n      toast.error('Please enter a 10-digit phone number', { position: 'top-right' });\r\n  } else {\r\n      setUser({ ...user, [name]: value });\r\n  }\r\n};\r\n\r\n  // Function to submit form\r\n  const submitForm = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Basic validation checks\r\n    if (!user.fname || !user.lname || !user.email || !user.phone || !user.catagory) {\r\n      // If any field is empty, show an error toast\r\n      toast.error('All fields are required', { position: 'top-right' });\r\n      return; // Exit function early\r\n    }\r\n\r\n    try {\r\n      // Send POST request to create user\r\n      const response = await axios.post('http://localhost:8000/api/create', user);\r\n      // Show success toast\r\n      toast.success(response.data.msg, { position: 'top-right' });\r\n      // Redirect to home page\r\n      navigate('/');\r\n    } catch (error) {\r\n      console.log(error);\r\n      // Show error toast if request fails\r\n      toast.error('Error adding user', { position: 'top-right' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='addUser'>\r\n      <Link to={'/'}>Back</Link>\r\n      <h3>Add new user</h3>\r\n      <form className='addUserForm' onSubmit={submitForm}>\r\n        {/* Input fields for user data */}\r\n        <div className='inputGroup'>\r\n          <label htmlFor='fname'>First name</label>\r\n          <input type='text' onChange={inputHandler} id='fname' name='fname' autoComplete='off' placeholder='First name' />\r\n        </div>\r\n        <div className='inputGroup'>\r\n          <label htmlFor='lname'>Last name</label>\r\n          <input type='text' onChange={inputHandler} id='lname' name='lname' autoComplete='off' placeholder='Last name' />\r\n        </div>\r\n        <div className='inputGroup'>\r\n          <label htmlFor='phone'>Phone</label>\r\n          <input type='text' onChange={inputHandler} id='phone' name='phone' autoComplete='off' placeholder='phone' />\r\n        </div>\r\n        <div className='inputGroup'>\r\n          <label htmlFor='email'>Email</label>\r\n          <input type='email' onChange={inputHandler} id='email' name='email' autoComplete='off' placeholder='Email' />\r\n        </div>\r\n        <div className='inputGroup'>\r\n          <label htmlFor='catagory'>Catagory</label>\r\n          <select onChange={inputHandler} id='catagory' name='catagory'>\r\n            <option value=''>Select category</option>\r\n            <option value='Family'>Family</option>\r\n            <option value='Friend'>Friend</option>\r\n            <option value='Work'>Work</option>\r\n            <option value='Other'>Other</option>\r\n          </select>\r\n        </div>\r\n        {/* Button to submit form */}\r\n        <div className='inputGroup'>\r\n          <button type='submit'>ADD USER</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Add;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}